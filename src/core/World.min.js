define(["require","exports","core/utils/Bag","core/utils/Hashmap","core/EntityManager","core/ComponentManager"],function(n,t,i,r,u,f){var e=i,o=r,s=u,h=f,c=function(){function n(){this._managers=new o.Hashmap,this._managersBag=new e.Bag,this._systems=new o.Hashmap,this._systemsBag=new e.Bag,this._added=new e.Bag,this._changed=new e.Bag,this._deleted=new e.Bag,this._enable=new e.Bag,this._disable=new e.Bag,this._componentManager=new h.ComponentManager,this.setManager(this._componentManager),this._entityManager=new s.EntityManager,this.setManager(this._entityManager)}return n.prototype.initialize=function(){for(var n=0;n<this._managersBag.size;n++)this._managersBag.get(n).initialize();for(n=0;n<this._systemsBag.size;n++)this._systemsBag.get(n).initialize()},n.prototype.process=function(){},n.prototype.getEntityManager=function(){return this._entityManager},n.prototype.getComponentManager=function(){return this._componentManager},n.prototype.setManager=function(n){return this._managers.add(n.getClassName(),n),this._managersBag.add(n),n.setWorld(this),n},n.prototype.getManager=function(n){return this._managers.getValue(n)},n.prototype.deleteManager=function(n){this._managers.remove(n),this._managersBag.remove(n)},n.prototype.getDelta=function(){return this.delta},n.prototype.setDelta=function(n){this.delta=n},n.prototype.addEntity=function(n){this._added.add(n)},n.prototype.changedEntity=function(n){this._changed.add(n)},n.prototype.deleteEntity=function(n){this._deleted.contains(n)||this._deleted.add(n)},n.prototype.enable=function(n){this._enable.add(n)},n.prototype.disable=function(n){this._disable.add(n)},n.prototype.createEntity=function(){return this._entityManager.createEntityInstance()},n.prototype.getEntity=function(n){return this._entityManager.getEntity(n)},n.prototype.getSystems=function(){return this._systemsBag},n.prototype.setSystem=function(n,t){return typeof t=="undefined"&&(t=!1),n.setWorld(this),n.setPassive(t),this._systems.add(n.getClassName(),n),this._systemsBag.add(n),n},n}();t.World=c})