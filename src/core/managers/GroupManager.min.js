var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i};define(["require","exports","core/Manager","core/utils/Bag","core/utils/Hashmap"],function(n,t,i,r,u){var o=i,f=r,e=u,s=function(n){function t(){n.call(this),this._entitiesByGroup=new e.Hashmap,this._groupsByEntity=new e.Hashmap}return __extends(t,n),t.prototype.add=function(n,t){var r=this._entitiesByGroup.getValue(t),i;r==null&&(r=new f.Bag,this._entitiesByGroup.add(t,r)),r.add(n),i=this._groupsByEntity.getValue(n),i==null&&(i=new f.Bag,this._groupsByEntity.add(n,i)),i.add(t)},t.prototype.remove=function(n,t){var r=this._entitiesByGroup.getValue(t),i;r!=null&&r.remove(n),i=this._groupsByEntity.getValue(n),i!=null&&i.remove(t)},t.prototype.removeFromAllGroups=function(n){var t=this._groupsByEntity.getValue(n),i,r;if(t!=null){for(i=0;t.size>i;i++)r=this._entitiesByGroup.getValue(t.get(i)),r!=null&&r.remove(n);t.clear()}},t.prototype.getEntities=function(n){var t=this._entitiesByGroup.getValue(n);return t==null&&(t=new f.Bag,this._entitiesByGroup.add(n,t)),t},t.prototype.getGroups=function(n){return this._groupsByEntity.getValue(n)},t.prototype.isInAnyGroup=function(n){return this.getGroups(n)!=null},t.prototype.isInGroup=function(n,t){var r,i,u;if(t!=null)for(r=this._groupsByEntity.getValue(n),i=0;r.size>i;i++)if(u=r.get(i),t===u||t==u)return!0;return!1},t.prototype.deleted=function(n){this.removeFromAllGroups(n)},t.prototype.initialize=function(){},t}(o.Manager);t.GroupManager=s})